(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"91hw":function(t,s,a){},A1LL:function(t,s,a){"use strict";var e=a("91hw"),i=a.n(e);i.a},"L/ki":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"profile"},[a("div",{staticClass:"navbar"},[a("div",{staticClass:"navbar-inner"},[a("div",{staticClass:"title"},[t._v("Profile")]),t.user?a("div",{staticClass:"nav-right",on:{click:function(s){t.$f7router.navigate("/profile-edit")}}},[a("i",{staticClass:"icon ion-md-create",staticStyle:{"font-size":"24px"}})]):t._e()])]),t.user?[a("div",{staticClass:"main-content"},[a("div",{staticClass:"info"},[a("img",{staticClass:"photo",attrs:{src:t.user.photoURL}}),a("span",{staticClass:"name"},[t._v(t._s(t.user.fullname)+" "+t._s(t.user.emoji))]),t.user.bio?a("span",{staticClass:"bio"},[t._v(t._s(t.user.bio))]):t._e()]),a("div",{staticClass:"status"},[a("status-cell",{attrs:{value:t.stats.points,type:"info",title:"POINTS"}}),a("status-cell",{attrs:{value:t.stats.win,type:"success",title:"WON"}}),a("status-cell",{attrs:{value:t.stats.lose,type:"danger",title:"LOSE"}})],1)]),a("div",{staticClass:"actions"},[a("f7-button",{attrs:{color:"white","text-color":"black",fill:""},on:{click:t.signOut}},[t._v("Sign Out")])],1)]:[a("h1",{staticClass:"text-align-left"},[t._v("Table Denis Club")]),a("f7-list",{staticClass:"text-align-left",attrs:{inset:""}},[a("f7-list-item",[a("f7-label",[t._v("E-mail")]),a("f7-input",{attrs:{value:t.form.email,type:"email",placeholder:"Your e-mail",required:"",validate:"","error-message":"Please input a correct email","clear-button":""},on:{input:function(s){t.form.email=s.target.value}}})],1),a("f7-list-item",[a("f7-label",[t._v("Password")]),a("f7-input",{attrs:{value:t.form.password,type:"password",placeholder:"Your password",required:"",pattern:".{8,}","error-message":"Must be at least 8 digits",validate:"","clear-button":""},on:{input:function(s){t.form.password=s.target.value}}})],1)],1),t.form.error?a("div",{staticClass:"error-message"},[t._v(t._s(t.form.error))]):t._e(),a("div",{staticClass:"actions"},[a("f7-button",{attrs:{disabled:!t.validated,color:"white","text-color":"black",fill:""},on:{click:t.signIn}},[t._v("Sign In")]),a("span",{staticClass:"separator"},[t._v("or")]),a("f7-link",{attrs:{href:"/sign-up",color:"black"}},[t._v("Sign Up")])],1)]],2)},i=[],r=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"status-cell"},[a("div",{staticClass:"doughnut",class:t.type}),a("span",{staticClass:"title"},[t._v(t._s(t.title))]),a("span",{staticClass:"value"},[t._v(t._s(void 0===t.value?"-":t.value))])])},l=[],n=(a("xfY5"),{name:"StatusCell",props:{title:{type:String,default:"-"},value:{type:Number,default:void 0},type:{type:String,default:"normal"}}}),o=n,u=(a("nxmF"),a("KHd+")),c=Object(u["a"])(o,r,l,!1,null,"4e59bf04",null),f=c.exports,d={name:"Profile",components:{StatusCell:f},data:function(){return{form:{email:"",password:"",error:""},stats:{}}},computed:{validated:function(){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,s=/.{8,}/;return t.test(this.form.email)&&s.test(this.form.password)},user:function(){return this.$root.$data.user}},watch:{user:function(){this.refreshUserStats()}},mounted:function(){this.refreshUserStats()},methods:{refreshUserStats:function(){var t=this;this.user?this.$fns.httpsCallable("getUserStatistics")({uid:this.user.uid}).then(function(s){var a=s.data;t.stats=a}).catch(function(){t.$f7.toast.show({text:"Failed to load user stats.",closeTimeout:3e3})}):this.stats={}},signIn:function(){var t=this;this.$f7.dialog.preloader("Signing in..."),this.$auth.signInWithEmailAndPassword(this.form.email,this.form.password).then(function(){t.$f7.dialog.close()}).catch(function(s){t.form={email:"",password:"",error:s?s.message:""},t.$f7.dialog.close()})},signOut:function(){this.$auth.signOut().then(function(){})}}},v=d,p=(a("A1LL"),Object(u["a"])(v,e,i,!1,null,"292426ca",null));s["default"]=p.exports},mXC0:function(t,s,a){},nxmF:function(t,s,a){"use strict";var e=a("mXC0"),i=a.n(e);i.a}}]);
//# sourceMappingURL=5.96b0e962.js.map